<!DOCTYPE html>
<html data-n-head-ssr data-n-head="">
  <head>
    <meta data-n-head="true" charset="utf-8"/><meta data-n-head="true" name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/><meta data-n-head="true" name="description" content="文蔺的前端学习记录，国外技术文章翻译，个人学习心得等等这些都会记录在这里。"/><meta data-n-head="true" name="keywords" content="原创,rem"/><meta data-n-head="true" name="description" content="关于移动端 rem 布局的一些总结"/><title data-n-head="true">关于移动端 rem 布局的一些总结 | 文蔺的博客</title><link data-n-head="true" rel="favicon" href="/favicon.ico"/><link rel="stylesheet" href="/static/common.5ad111a3.css"><style data-vue-ssr-id="645210e9:0">#__layout,#__nuxt,.wrapper{width:100%;height:100%}.main{height:100%}.main>article,.main>div,.main>section{min-height:100%;margin-bottom:-81px}.main>article:after,.main>div:after,.main>section:after{display:block;content:"";height:81px}.main>article,.main>div,.main>section{border-bottom:0}.main>#footer{position:relative;z-index:1;border-top:0}</style>
  </head>
  <body data-n-head="">
    <div data-server-rendered="true" id="__nuxt"><div class="nuxt-progress" style="width:0%;height:2px;background-color:black;opacity:0;"></div><div id="__layout"><div class="wrapper"><nav id="sidebar" class="behavior_1"><div class="wrap"><div class="profile"><a href="/" class="nuxt-link-active"><img src="/imgs/avatar.jpg" alt="文蔺的博客"></a><span>文蔺的博客</span></div><ul class="buttons"><li><a href="/" title="主页" class="nuxt-link-active"><i class="iconfont icon-home"></i><span> 主页</span></a></li><li><a href="/archives" title="归档"><i class="iconfont icon-archive"></i><span> 归档</span></a></li><li><a href="/tags" title="标签"><i class="iconfont icon-tags"></i><span> 标签</span></a></li><li><a href="/about" title="关于"><i class="iconfont icon-user"></i><span> 关于</span></a></li><li><a href="/link" title="关注"><i class="iconfont icon-link"></i><span> 关注</span></a></li><li><a href="/collection" title="收藏"><i class="iconfont icon-archive"></i><span> 收藏</span></a></li></ul></div><ul class="buttons"><li><a href="https://github.com/AngusFu/" rel="nofollow" target="_blank" class="inline"><i title="GitHub" class="iconfont icon-github-v"></i></a><!----><!----><a href="/atom.xml" target="_blank" class="inline"><i title="RSS" class="iconfont icon-rss-v"></i></a><a href="/search" class="inline"><i title="Search" class="iconfont icon-search"></i></a></li></ul></nav><div id="header"><div class="btn-bar"><i></i></div><h1><a href="/" class="nuxt-link-active">文蔺的博客</a></h1><a href="/about/" class="me"><img src="/imgs/avatar.jpg" alt="文蔺的博客"></a></div><div id="sidebar-mask" style="display:none;"></div><div id="main" class="main"><div id="page-post"><article class="post detail"><div class="meta"><div class="date">2015-08-31</div></div><h1 class="title">关于移动端 rem 布局的一些总结</h1><div class="entry-content"><!----><h2 id="-">【资源一】基础知识恕不回顾</h2><p>基础知识参考以下两篇博客：</p><p><a href="http://isux.tencent.com/web-app-rem.html" target="_blank">http://isux.tencent.com/web-app-rem.html</a></p><p><a href="http://www.w3cplus.com/css3/define-font-size-with-css3-rem" target="_blank">http://www.w3cplus.com/css3/define-font-size-with-css3-rem</a></p><h2 id="-m-">【资源二】淘宝m站首页的动态实现</h2><p>学习<a href="http://m.taobao.com" target="_blank">http://m.taobao.com</a> 首页的实现。</p><p><strong>最近读到<a href="http://www.w3cplus.com" target="_blank">@大漠</a>的新文章《<a href="http://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html" target="_blank">使用Flexible实现手淘H5页面的终端适配</a>》，和本部分有点关系。暂且加上来以供参考。（updated 2015-11-24）</strong></p><p>源码进行美化、解读之后，基本布局部分的代码已经被我还原出来了：（2016-01-13补充：后来才发现，早就开源在<a href="https://github.com/amfe/lib-flexible" target="_blank">github</a>上了）</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-js&quot;&gt;!%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ewin%2C%20lib%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20timer%2C%0A%20%20%20%20%20%20%20%20doc%20%20%20%20%20%3D%20win.document%2C%0A%20%20%20%20%20%20%20%20docElem%20%3D%20doc.documentElement%2C%0A%0A%20%20%20%20%20%20%20%20vpMeta%20%20%20%3D%20doc.querySelector(%3Cspan%20class%3D%22hljs-string%22%3E'meta%5Bname%3D%22viewport%22%5D'%3C%2Fspan%3E)%2C%0A%20%20%20%20%20%20%20%20flexMeta%20%3D%20doc.querySelector(%3Cspan%20class%3D%22hljs-string%22%3E'meta%5Bname%3D%22flexible%22%5D'%3C%2Fspan%3E)%2C%0A%0A%20%20%20%20%20%20%20%20dpr%20%20%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%2C%0A%20%20%20%20%20%20%20%20scale%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%2C%0A%0A%20%20%20%20%20%20%20%20flexible%20%3D%20lib.flexible%20%7C%7C%20(lib.flexible%20%3D%20%7B%7D)%3B%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%AE%BE%E7%BD%AE%E4%BA%86%20viewport%20meta%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(vpMeta)%20%7B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C%2Fspan%3E.warn(%3Cspan%20class%3D%22hljs-string%22%3E%22%E5%B0%86%E6%A0%B9%E6%8D%AE%E5%B7%B2%E6%9C%89%E7%9A%84meta%E6%A0%87%E7%AD%BE%E6%9D%A5%E8%AE%BE%E7%BD%AE%E7%BC%A9%E6%94%BE%E6%AF%94%E4%BE%8B%22%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20initial%20%3D%20vpMeta.getAttribute(%3Cspan%20class%3D%22hljs-string%22%3E%22content%22%3C%2Fspan%3E).match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Finitial%5C-scale%3D(%5B%5Cd%5C.%5D%2B)%2F%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(initial)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20scale%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E(initial%5B%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%5D)%3B%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E5%B7%B2%E8%AE%BE%E7%BD%AE%E7%9A%84%20initialScale%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20dpr%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseInt%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%20%2F%20scale)%3B%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%AE%BE%E5%A4%87%E5%83%8F%E7%B4%A0%E6%AF%94%20devicePixelRatio%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%AE%BE%E7%BD%AE%E4%BA%86%20flexible%20Meta%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eelse%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(flexMeta)%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20flexMetaContent%20%3D%20flexMeta.getAttribute(%3Cspan%20class%3D%22hljs-string%22%3E%22content%22%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(flexMetaContent)%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20initial%20%3D%20flexMetaContent.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Finitial%5C-dpr%3D(%5B%5Cd%5C.%5D%2B)%2F%3C%2Fspan%3E)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maximum%20%3D%20flexMetaContent.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Fmaximum%5C-dpr%3D(%5B%5Cd%5C.%5D%2B)%2F%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(initial)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dpr%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E(initial%5B%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E((%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%20%2F%20dpr).toFixed(%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(maximum)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dpr%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E(maximum%5B%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E((%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%20%2F%20dpr).toFixed(%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20viewport%20%E6%88%96%20flexible%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20meta%20%E5%9D%87%E6%9C%AA%E8%AE%BE%E7%BD%AE%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(!dpr%20%26amp%3B%26amp%3B%20!scale)%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20QST%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%BF%99%E9%87%8C%E7%9A%84%20%E7%AC%AC%E4%B8%80%E5%8F%A5%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%20%3F%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E5%92%8C%20Android%20%E6%9C%89%E6%AF%9B%E5%85%B3%E7%B3%BB%20%3F%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20u%20%3D%20(win.navigator.appVersion.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Fandroid%2Fgi%3C%2Fspan%3E)%2C%20win.navigator.appVersion.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Fiphone%2Fgi%3C%2Fspan%3E))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20_dpr%20%3D%20win.devicePixelRatio%3B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E4%BC%BC%E4%B9%8E%E6%98%AF%E5%B0%86%E6%89%80%E6%9C%89%20Android%20%E8%AE%BE%E5%A4%87%E9%83%BD%E8%AE%BE%E7%BD%AE%E4%B8%BA%201%20%E4%BA%86%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20dpr%20%3D%20u%20%3F%20(%20(_dpr%20%26gt%3B%3D%20%3Cspan%20class%3D%22hljs-number%22%3E3%3C%2Fspan%3E%20%26amp%3B%26amp%3B%20(!dpr%20%7C%7C%20dpr%20%26gt%3B%3D%20%3Cspan%20class%3D%22hljs-number%22%3E3%3C%2Fspan%3E))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%3Cspan%20class%3D%22hljs-number%22%3E3%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20(_dpr%20%26gt%3B%3D%20%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E%20%26amp%3B%26amp%3B%20(!dpr%20%7C%7C%20dpr%20%26gt%3B%3D%20%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%3Cspan%20class%3D%22hljs-number%22%3E2%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%3B%0A%0A%20%20%20%20%20%20%20%20scale%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%20%2F%20dpr%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20docElem.setAttribute(%3Cspan%20class%3D%22hljs-string%22%3E%22data-dpr%22%3C%2Fspan%3E%2C%20dpr)%3B%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E6%8F%92%E5%85%A5%20viewport%20meta%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(!vpMeta)%20%7B%0A%20%20%20%20%20%20%20%20vpMeta%20%3D%20doc.createElement(%3Cspan%20class%3D%22hljs-string%22%3E%22meta%22%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%20%20%20%20vpMeta.setAttribute(%3Cspan%20class%3D%22hljs-string%22%3E%22name%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-string%22%3E%22viewport%22%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20vpMeta.setAttribute(%3Cspan%20class%3D%22hljs-string%22%3E%22content%22%3C%2Fspan%3E%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-string%22%3E%22initial-scale%3D%22%3C%2Fspan%3E%20%2B%20scale%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%2C%20maximum-scale%3D%22%3C%2Fspan%3E%20%2B%20scale%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%2C%20minimum-scale%3D%22%3C%2Fspan%3E%20%2B%20scale%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22%2C%20user-scalable%3Dno%22%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(docElem.firstElementChild)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20docElem.firstElementChild.appendChild(vpMeta)%0A%20%20%20%20%20%20%20%20%7D%20%3Cspan%20class%3D%22hljs-keyword%22%3Eelse%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20div%20%3D%20doc.createElement(%3Cspan%20class%3D%22hljs-string%22%3E%22div%22%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20div.appendChild(vpMeta)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20doc.write(div.innerHTML)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-title%22%3EsetFontSize%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20winWidth%20%3D%20docElem.getBoundingClientRect().width%3B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(winWidth%20%2F%20dpr%20%26gt%3B%20%3Cspan%20class%3D%22hljs-number%22%3E540%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20(winWidth%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E540%3C%2Fspan%3E%20*%20dpr)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E6%A0%B9%E8%8A%82%E7%82%B9%20fontSize%20%E6%A0%B9%E6%8D%AE%E5%AE%BD%E5%BA%A6%E5%86%B3%E5%AE%9A%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20baseSize%20%3D%20winWidth%20%2F%20%3Cspan%20class%3D%22hljs-number%22%3E10%3C%2Fspan%3E%3B%0A%0A%20%20%20%20%20%20%20%20docElem.style.fontSize%20%3D%20baseSize%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22px%22%3C%2Fspan%3E%3B%0A%20%20%20%20%20%20%20%20flexible.rem%20%3D%20win.rem%20%3D%20baseSize%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E6%97%B6%E9%87%8D%E7%BD%AE%3C%2Fspan%3E%0A%20%20%20%20win.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22resize%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20clearTimeout(timer)%3B%0A%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout(setFontSize%2C%20%3Cspan%20class%3D%22hljs-number%22%3E300%3C%2Fspan%3E)%3B%0A%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%BF%99%E4%B8%80%E6%AE%B5%E6%98%AF%E6%88%91%E8%87%AA%E5%B7%B1%E5%8A%A0%E7%9A%84%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20orientationchange%20%E6%97%B6%E4%B9%9F%E9%9C%80%E8%A6%81%E9%87%8D%E7%AE%97%E4%B8%8B%E5%90%A7%3C%2Fspan%3E%0A%20%20%20%20win.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22orientationchange%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20clearTimeout(timer)%3B%0A%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout(setFontSize%2C%20%3Cspan%20class%3D%22hljs-number%22%3E300%3C%2Fspan%3E)%3B%0A%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20pageshow%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20keyword%3A%20%E5%80%92%E9%80%80%20%E7%BC%93%E5%AD%98%E7%9B%B8%E5%85%B3%3C%2Fspan%3E%0A%20%20%20%20win.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22pageshow%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ee%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(e.persisted)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearTimeout(timer)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout(setFontSize%2C%20%3Cspan%20class%3D%22hljs-number%22%3E300%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%9F%BA%E5%87%86%E5%AD%97%E4%BD%93%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(%3Cspan%20class%3D%22hljs-string%22%3E%22complete%22%3C%2Fspan%3E%20%3D%3D%3D%20doc.readyState)%20%7B%0A%20%20%20%20%20%20%20%20doc.body.style.fontSize%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E12%3C%2Fspan%3E%20*%20dpr%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22px%22%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%20%3Cspan%20class%3D%22hljs-keyword%22%3Eelse%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20doc.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22DOMContentLoaded%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20doc.body.style.fontSize%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E12%3C%2Fspan%3E%20*%20dpr%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22px%22%3C%2Fspan%3E%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFontSize()%3B%0A%0A%20%20%20%20flexible.dpr%20%3D%20win.dpr%20%3D%20dpr%3B%0A%0A%20%20%20%20flexible.refreshRem%20%3D%20setFontSize%3B%0A%0A%20%20%20%20flexible.rem2px%20%3D%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ed%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20c%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E(d)%20*%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.rem%3B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(%3Cspan%20class%3D%22hljs-string%22%3E%22string%22%3C%2Fspan%3E%20%3D%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Etypeof%3C%2Fspan%3E%20d%20%26amp%3B%26amp%3B%20d.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Frem%24%2F%3C%2Fspan%3E))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%2B%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%22px%22%3C%2Fspan%3E%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E%20c%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20flexible.px2rem%20%3D%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ed%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20c%20%3D%20%3Cspan%20class%3D%22hljs-built_in%22%3EparseFloat%3C%2Fspan%3E(d)%20%2F%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.rem%3B%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(%3Cspan%20class%3D%22hljs-string%22%3E%22string%22%3C%2Fspan%3E%20%3D%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Etypeof%3C%2Fspan%3E%20d%20%26amp%3B%26amp%3B%20d.match(%3Cspan%20class%3D%22hljs-regexp%22%3E%2Fpx%24%2F%3C%2Fspan%3E))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%2B%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%22rem%22%3C%2Fspan%3E%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E%20c%3B%0A%20%20%20%20%7D%0A%7D(%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E.lib%20%7C%7C%20(%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E.lib%20%3D%20%7B%7D))%3B&lt;/code&gt;</textarea><p><strong>注意：</strong>
淘宝首页在iPhone4上设置的initial-scale是0.5（其他尺寸类似）。</p><p>因此，这句在iPhone4上得出的结果是640：</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-javascript&quot;&gt;%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20winWidth%20%3D%20docElem.getBoundingClientRect().width%3B&lt;/code&gt;</textarea><p>正是因为淘宝这种独特的设置，使得 ios 上 1px边框的问题完美解决（1px变2px， 又被 <textarea width="0" height="0" class="codespan" style="display:none;">initial-scale=0.5</textarea> 缩小了一半）。</p><h2 id="-js-">【资源三】常规情况下js根据屏幕宽度动态计算</h2><p>使用js动态计算：</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-js&quot;&gt;%0A!(%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Edoc%2C%20win%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20docEle%20%3D%20doc.documentElement%2C%0A%20%20%20%20%20%20%20%20evt%20%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%22onorientationchange%22%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Ein%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E%20%3F%20%3Cspan%20class%3D%22hljs-string%22%3E%22orientationchange%22%3C%2Fspan%3E%20%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%22resize%22%3C%2Fspan%3E%2C%0A%20%20%20%20%20%20%20%20fn%20%3D%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20width%20%3D%20docEle.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20%26amp%3B%26amp%3B%20(docEle.style.fontSize%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E20%3C%2Fspan%3E%20*%20(width%20%2F%20%3Cspan%20class%3D%22hljs-number%22%3E320%3C%2Fspan%3E)%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E%22px%22%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20win.addEventListener(evt%2C%20fn%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%20%20%20%20doc.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22DOMContentLoaded%22%3C%2Fspan%3E%2C%20fn%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%7D(%3Cspan%20class%3D%22hljs-built_in%22%3Edocument%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E))%3B&lt;/code&gt;</textarea><h2 id="-">【资源四】媒体查询较密集的断点</h2><p>使用css3 media query 实现</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-css&quot;&gt;%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E320px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E14px%3C%2Fspan%3E%3B%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E360px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E16px%3C%2Fspan%3E%3B%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E400px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E18px%3C%2Fspan%3E%3B%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E440px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E20px%3C%2Fspan%3E%3B%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E480px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E22px%3C%2Fspan%3E%3B%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E640px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E28px%3C%2Fspan%3E%3B%7D%0A%7D&lt;/code&gt;</textarea><h2 id="-vw">【资源五】强大的单位——vw</h2><p>使用单位 vw 实现动态计算。</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-css&quot;&gt;%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E31.25vw%3C%2Fspan%3E%3B%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F*%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A100*100vw%2F320%20*%2F%3C%2Fspan%3E%0A%7D&lt;/code&gt;</textarea><p>不过考虑到国内兼容性的问题，还是结合媒体查询来使用比较好。（媒体查询的断点暂时是借用上面的例子）</p><p><img alt="图片描述"></p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-css&quot;&gt;%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E320px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E100px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E360px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E112.5px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E400px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E125px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E440px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E137.5px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E480px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E150px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E640px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E200px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E31.25vw%3C%2Fspan%3E%3B%0A%7D&lt;/code&gt;</textarea><hr><h2 id="-">【总结】</h2><p>对以上种种方法的综合：</p><p>1、meta:viewport,  还是initial-scale为 1；</p><p>2、320px屏幕下，把页面根元素html的字体大小设置为50px；</p><p>3、鉴于我们拿到的设计图目前是640px宽的基准，这样我们就不用每次自己除以2了，直接在PS中量就好；</p><p>4、宽度什么的最好还是用百分比处理；涉及到高度、字体大小之类的则用rem。</p><p>eg：
设计稿上，div高度为40px；那么css就是 <textarea width="0" height="0" class="codespan" style="display:none;">div {height: 0.4rem;}</textarea></p><p>结果就只剩下一步转换：设计稿上量的长度转化为小数。 <textarea width="0" height="0" class="codespan" style="display:none;">50% =&gt; 0.5</textarea>  这种计算，不要太简单。。。</p><p>【方法一】纯粹css，支持calc函数的动态计算；不支持的用css媒体查询断点，优雅降级。</p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-css&quot;&gt;%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E320px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E50px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E360px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E56px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E400px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E63px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E440px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E69px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E480px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E75px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%3Cspan%20class%3D%22hljs-comment%22%3E%2F**%0A%20*%202016-01-13%20%E8%AE%A2%E6%AD%A3%0A%20*%20%E5%81%9A%E9%80%82%E5%BD%93%E9%99%90%E5%88%B6%0A%20*%20%E5%A4%A7%E4%BA%8E640%E7%9A%84%E5%B1%8F%E5%B9%95%20%E5%9B%BA%E5%AE%9A%E4%B8%BA100px%0A%20*%20%E5%90%8C%E6%97%B6%E9%9C%80%E8%A6%81%E5%AF%B9body%E6%88%96%E8%80%85%E6%9C%80%E5%A4%96%E5%B1%82wrapper%E5%81%9Amax-width%3A%20640px%E7%9A%84%E9%99%90%E5%88%B6%0A%20*%2F%3C%2Fspan%3E%0A%3Cspan%20class%3D%22hljs-comment%22%3E%2F*%0A%40media%20screen%20and%20(min-width%3A%20640px)%20%7B%0A%20%20%20%20html%20%7B%0A%20%20%20%20%20%20%20%20font-size%3A%20100px%3B%0A%20%20%20%20%7D%0A%7D%0A%0Ahtml%20%7B%0A%20%20%20%20font-size%3A%2015.625vw%3B%0A%7D%0A*%2F%3C%2Fspan%3E%0A%0A%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E15.625vw%3C%2Fspan%3E%3B%0A%7D%0A%0A%40%3Cspan%20class%3D%22hljs-keyword%22%3Emedia%3C%2Fspan%3E%20screen%20and%20(min-width%3A%20%3Cspan%20class%3D%22hljs-number%22%3E640px%3C%2Fspan%3E)%20%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E100px%3C%2Fspan%3E%3B%0A%20%20%20%20%7D%0A%7D&lt;/code&gt;</textarea><p>【方法二】脚本动态计算</p><p><strong>大前提：</strong></p><p>1、initial-scale 为 1；</p><p>2、在项目css中(注意不要被公共的base、common之类的影响了，资源加载顺序也是蛮重要的)，先把html的fontSize设置为 50px（或者加上媒体查询代码）, 避免加载未完成时候样式错乱; </p><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-css&quot;&gt;%0A%3Cspan%20class%3D%22hljs-comment%22%3E%2F*%20css%20*%2F%3C%2Fspan%3E%0A%3Cspan%20class%3D%22hljs-selector-tag%22%3Ehtml%3C%2Fspan%3E%20%7B%3Cspan%20class%3D%22hljs-attribute%22%3Efont-size%3C%2Fspan%3E%3A%20%3Cspan%20class%3D%22hljs-number%22%3E50px%3C%2Fspan%3E%3B%7D&lt;/code&gt;</textarea><textarea width="0" height="0" class="pre-area" style="display:none;">&lt;code class=&quot;hljs lang-javascript&quot;&gt;%3Cspan%20class%3D%22hljs-comment%22%3E%2F*%20javascript%20*%2F%3C%2Fspan%3E%0A%0A!(%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ewin%2C%20doc%3C%2Fspan%3E)%3C%2Fspan%3E%7B%0A%20%20%20%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-title%22%3EsetFontSize%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E8%8E%B7%E5%8F%96window%20%E5%AE%BD%E5%BA%A6%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20zepto%E5%AE%9E%E7%8E%B0%20%24(window).width()%E5%B0%B1%E6%98%AF%E8%BF%99%E4%B9%88%E5%B9%B2%E7%9A%84%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20winWidth%20%3D%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E.innerWidth%3B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20doc.documentElement.style.fontSize%20%3D%20(winWidth%20%2F%20640)%20*%20100%20%2B%20'px'%20%3B%3C%2Fspan%3E%0A%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%202016-01-13%20%E8%AE%A2%E6%AD%A3%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20640%E5%AE%BD%E5%BA%A6%E4%BB%A5%E4%B8%8A%E8%BF%9B%E8%A1%8C%E9%99%90%E5%88%B6%20%E9%9C%80%E8%A6%81css%E8%BF%9B%E8%A1%8C%E9%85%8D%E5%90%88%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20size%20%3D%20(winWidth%20%2F%20%3Cspan%20class%3D%22hljs-number%22%3E640%3C%2Fspan%3E)%20*%20%3Cspan%20class%3D%22hljs-number%22%3E100%3C%2Fspan%3E%3B%0A%20%20%20%20%20%20%20%20doc.documentElement.style.fontSize%20%3D%20(size%20%26lt%3B%20%3Cspan%20class%3D%22hljs-number%22%3E100%3C%2Fspan%3E%20%3F%20size%20%3A%20%3Cspan%20class%3D%22hljs-number%22%3E100%3C%2Fspan%3E)%20%2B%20%3Cspan%20class%3D%22hljs-string%22%3E'px'%3C%2Fspan%3E%20%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20evt%20%3D%20%3Cspan%20class%3D%22hljs-string%22%3E'onorientationchange'%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Ein%3C%2Fspan%3E%20win%20%3F%20%3Cspan%20class%3D%22hljs-string%22%3E'orientationchange'%3C%2Fspan%3E%20%3A%20%3Cspan%20class%3D%22hljs-string%22%3E'resize'%3C%2Fspan%3E%3B%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C%2Fspan%3E%20timer%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Enull%3C%2Fspan%3E%3B%0A%0A%20%20%20%20win.addEventListener(evt%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E%20(%3Cspan%20class%3D%22hljs-params%22%3E%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20clearTimeout(timer)%3B%0A%0A%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout(setFontSize%2C%20%3Cspan%20class%3D%22hljs-number%22%3E300%3C%2Fspan%3E)%3B%0A%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20win.addEventListener(%3Cspan%20class%3D%22hljs-string%22%3E%22pageshow%22%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E(%3Cspan%20class%3D%22hljs-params%22%3Ee%3C%2Fspan%3E)%20%3C%2Fspan%3E%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E%20(e.persisted)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearTimeout(timer)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout(setFontSize%2C%20%3Cspan%20class%3D%22hljs-number%22%3E300%3C%2Fspan%3E)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C%2Fspan%3E)%3B%0A%0A%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%3C%2Fspan%3E%0A%20%20%20%20setFontSize()%3B%0A%0A%7D(%3Cspan%20class%3D%22hljs-built_in%22%3Ewindow%3C%2Fspan%3E%2C%20%3Cspan%20class%3D%22hljs-built_in%22%3Edocument%3C%2Fspan%3E))%3B&lt;/code&gt;</textarea><p>嗯。。。</p><p>就这么愉快地结束了。。。</p><p>不知道解读了某宝首页的一点点代码，然后发在这里，会不会有什么后果。。。</p><p>==================================================</p><h2 id="2016-1-13-">2016年1月13日补充</h2><p>写过这篇博客之后，又陆续读过几篇关于布局的文章。</p><p>具体已经忘了，大约是大漠的文章，还有一篇应该是搜车前端的博文，另外应该还有关于手淘首页的分析的文章。</p><p>另外，自己也用rem布局实践过几个项目。</p><p>不得不说，个人觉得rem布局现在已经可以放弃了。<textarea width="0" height="0" class="codespan" style="display:none;">flex</textarea>布局已经很好用了，早已有之的百分比布局等稍用点心思也并不难。</p><p>这篇博客一直想改。但懒惰总是占据着我的身体。</p><p>最后再说下，字体大小自适应是错误的，字体大小自适应是错误的，字体大小自适应是错误的。</p><p>rem 布局，可以告别了。</p><p>迎接 flex 布局吧。</p><p>=========================================</p><h3 id="-">写在最后</h3><p>这篇博客写于半年前，那时候还是个刚毕业的菜鸟。</p><p>偶尔有点想法，看了一些大牛的文章，有了这篇博客。</p><p>这也是半年来唯一一篇产出。</p><p>5k的浏览量，95收藏，13推荐，已经让我很惊讶了。</p><p>谢谢各路大神们的关注。</p><p>半年来感受到的前端大环境变化还是很大。虽然在公司没有太多变化，但眼睛总得看着世界吧。</p><p>接下来，还得继续学习。</p><p>由于手上没什么项目，一直想探索出一套自己的自动化流程，但到现在也只是积累了许多版的草稿。</p><p><textarea width="0" height="0" class="codespan" style="display:none;">nodejs</textarea>方面也得有所探索，<textarea width="0" height="0" class="codespan" style="display:none;">nodejs</textarea> 再加上 <textarea width="0" height="0" class="codespan" style="display:none;">shelljs</textarea> 和 <textarea width="0" height="0" class="codespan" style="display:none;">yargs</textarea> 用起来是真的很爽。（<a href="www.ruanyifeng.com/blog/2015/05/command-line-with-node.html">鸣谢阮大神的文章</a>）</p><p>算是年终总结了。在前端的路上继续走吧。</p><p>=========================================</p><h3 id="-">一点想法：评论区的回复</h3><p>媒体查询和js动态计算是两种方式。</p><p>首先，支持 CSS3 <textarea width="0" height="0" class="codespan" style="display:none;">calc</textarea>方法 和 <textarea width="0" height="0" class="codespan" style="display:none;">rem</textarea>、<textarea width="0" height="0" class="codespan" style="display:none;">vw</textarea>单位的浏览器下，只需要<textarea width="0" height="0" class="codespan" style="display:none;">html {font-size: 15.625vw;}</textarea>这样一句就好，另外加个媒体查询限制下。</p><p>之前的一大堆密集的断点只是为了hack不支持<textarea width="0" height="0" class="codespan" style="display:none;">calc</textarea>或者<textarea width="0" height="0" class="codespan" style="display:none;">calc</textarea>的情况。其次，js动态设置html的<textarea width="0" height="0" class="codespan" style="display:none;">font-size</textarea>，只要浏览器支持rem单位即可。</p><p>为什么会考虑到密集的mq断点呢，因为当时还在考虑文字大小的自适应问题。</p><p>实践证明，字体大小自适应是一种错误的想法。</p><p>移动开发在必要情况的下，可以适当使用mq来调整字体大小，但做成完全自适应则是一种存在问题的做法。</p><p>因此，这里提到的 <textarea width="0" height="0" class="codespan" style="display:none;">calc</textarea>和<textarea width="0" height="0" class="codespan" style="display:none;">vh</textarea><textarea width="0" height="0" class="codespan" style="display:none;">rem</textarea>配合的做法，最好只用来做布局的工作。js动态计算也是类似，更适合做布局。</p></div></article><nav class="pagination"><a href="/post/js-promise-slides" title="异步场景下的 js 编程" class="prev">« 异步场景下的 js 编程</a><a href="/post/vh-center-layout" title="记一种水平垂直居中的办法" class="next">记一种水平垂直居中的办法 »</a></nav><div></div></div><footer id="footer" class="inner">
      © 2018 -  文蔺的博客
      <span> - </span><a href="/" class="nuxt-link-active">www.wemlion.com</a><br>
      Powered by <a target="_blank" href="https://nuxtjs.org">Nuxt.js</a> &amp; <a target="_blank" rel="nofollow" href="https://firekylin.org" class="external">FireKylin</a></footer></div></div></div></div><script type="text/javascript">window.__NUXT__={"layout":"default","data":[{}],"error":null,"serverRendered":true};</script><script src="/static/manifest.4f625a5f.js" defer></script><script src="/static/0-cf2867bf.js" defer></script><script src="/static/90-f4b9a47f.js" defer></script><script src="/static/common.d774ec7b.js" defer></script><script src="/static/app.ff62209b.js" defer></script>
  </body>
</html>

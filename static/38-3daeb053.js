webpackJsonp([38],{"5q42":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("dXWv"),r=a("JTdK"),n=a("VU/8")(e.a,r.a,!1,null,null,null);n.options.__file="pages/post/opensearch.vue",s.default=n.exports},JTdK:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"page-post"}},[a("article",{staticClass:"post detail"},[a("div",{staticClass:"meta"},[a("div",{staticClass:"date"},[t._v(t._s(t.post.create_time))])]),a("h1",{staticClass:"title"},[t._v(t._s(t.post.title))]),a("div",{staticClass:"entry-content"},[t.post.translation?a("blockquote",[a("p",{staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n        原文作者: "),a("a",{attrs:{href:t.post.translation.social,target:"_blank"}},[t._v(t._s(t.post.translation.author))]),a("br"),t._v("\n        原文地址: "),a("a",{attrs:{href:t.post.translation.from}},[t._v(t._s(t.post.translation.from))]),a("br"),t._v("\n        译文地址: "),a("a",{attrs:{href:t.post_url}},[t._v(t._s(t.post_url))]),a("br"),t._v("\n        本文由 "),a("a",{attrs:{href:this.$config.site_url}},[t._v(t._s(this.$config.site_owner))]),t._v(" 翻译，转载请保留此声明。"),a("br"),t._v("\n        著作权属于原作者，本译文仅用于学习、研究和交流目的，请勿用于商业目的。\n        ")])]):t._e(),a("h2",{attrs:{id:"-"}},[t._v("描述")]),a("p",[t._v("在 Chrome 中新建标签页，输入网址的时候，浏览器会根据书签、历史记录进行自动补全，通过 Tab 键可以在浏览器提供的补全选项中切换。")]),a("p",[t._v("有时可以发现，点击 Tab 的时候，地址栏右侧会出现“按 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("tab")]),t._v(" 键可通过 XX 进行搜索”的提示。")]),a("p",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://ww3.sinaimg.cn/large/006tNbRwly1fffki13mxvj30z80aw0tu.jpg",expression:"`https://ww3.sinaimg.cn/large/006tNbRwly1fffki13mxvj30z80aw0tu.jpg`"}],attrs:{alt:""}})]),a("p",[t._v("再次点击 Tab，地址栏中文字，就变成了一段蓝色文字：“使用 XX 搜索”。")]),a("p",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://ww3.sinaimg.cn/large/006tNbRwly1fffkisv96kj30t605idg5.jpg",expression:"`https://ww3.sinaimg.cn/large/006tNbRwly1fffkisv96kj30t605idg5.jpg`"}],attrs:{alt:""}})]),a("p",[t._v("这时候就可以直接在地址栏中输入你要搜索的关键词，然后点击回车键，页面就会直接跳转到搜索页。")]),a("p",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://ww2.sinaimg.cn/large/006tNbRwly1fffkjwhpavj316g0piq5c.jpg",expression:"`https://ww2.sinaimg.cn/large/006tNbRwly1fffkjwhpavj316g0piq5c.jpg`"}],attrs:{alt:""}})]),a("p",[t._v("很多网站都能通过这种方式进行快捷搜索。常用的如谷歌、百度这些搜索引擎，后来发现，知乎、掘金、Github 等等网站也能实现。")]),a("p",[t._v("奇舞周刊网站提供了技术文章的搜索功能，和一般搜索有所不同的是，奇舞周刊的 url 是将搜索词放在 url 的 hash 部分的。这样是否也能实现呢？")]),a("h2",{attrs:{id:"-"}},[t._v("功能实现")]),a("p",[t._v("带着这个问题，首先通过搜索引擎找答案。找到了，是一个叫做 OpenSearch 的方案。")]),a("p",[t._v("解决方案很简单，在 HTML 文档的 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("head")]),t._v(" 部分添加一个 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("<link>")]),t._v(" 标签：")]),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"pre-area",attrs:{width:"0",height:"0"}},[t._v('<code class="hljs lang-html">%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Elink%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Erel%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22search%22%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Ehref%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22%2Fopensearch.xml%22%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etype%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22application%2Fopensearchdescription%2Bxml%22%3C%2Fspan%3E%0A%2F%26gt%3B%3C%2Fspan%3E</code>')]),a("p",[t._v("接着创建一个 XML 文件。文件内容如下：")]),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"pre-area",attrs:{width:"0",height:"0"}},[t._v('<code class="hljs lang-xml">%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3EOpenSearchDescription%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Exmlns%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22http%3A%2F%2Fa9.com%2F-%2Fspec%2Fopensearch%2F1.1%2F%22%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3EShortName%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E%E5%A5%87%E8%88%9E%E5%91%A8%E5%88%8A%E6%90%9C%E7%B4%A2%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%2F%3Cspan%20class%3D%22hljs-name%22%3EShortName%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3EDescription%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E%E5%A5%87%E8%88%9E%E5%91%A8%E5%88%8A%E4%B8%BA%E6%82%A8%E6%8F%90%E4%BE%9B%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81%E3%80%82%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%2F%3Cspan%20class%3D%22hljs-name%22%3EDescription%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3EUrl%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Etype%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22text%2Fhtml%22%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Emethod%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22get%22%3C%2Fspan%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Etemplate%3C%2Fspan%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22https%3A%2F%2Fweekly.75team.com%2Fsearch.html%23%7BsearchTerms%7D%22%3C%2Fspan%3E%2F%26gt%3B%3C%2Fspan%3E%0A%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%2F%3Cspan%20class%3D%22hljs-name%22%3EOpenSearchDescription%3C%2Fspan%3E%26gt%3B%3C%2Fspan%3E</code>')]),a("p",[t._v("上面这段是最简单的配置。"),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("ShortName")]),t._v(" 相当于前面举例中的 “XX”。"),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("Description")]),t._v(" 字段目前尚未在实际操作的 UI 呈现中看到。"),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("Url")]),t._v(" 字段的关键在 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("template")]),t._v(" 属性，该属性值是搜索页地址模板。")]),t._m(0),a("h2",{attrs:{id:"-form-"}},[t._v("通过 Form 实现")]),t._m(1),a("ul",[a("li",[t._v("必须以 GET 方式提交；")]),a("li",[t._v("提交目标是 HTTP 地址；")]),a("li",[t._v("没有 JavaScript 脚本处理表单的 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("onsubmit")]),t._v("；")]),a("li",[t._v('只能有一个 type="text" 的 '),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("input")]),t._v(" 元素；")]),a("li",[t._v("不包含 password、file、textarea 等元素；")]),a("li",[t._v("其他 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("input")]),t._v(" 元素必须保持默认状态。")])]),t._m(2),a("p",[t._v("更多信息，请查阅参考文档。")]),a("h2",{attrs:{id:"references"}},[t._v("References")]),t._m(3)])]),t.post.prev.title||t.post.next.title?a("nav",{staticClass:"pagination"},[t.post.prev.title?a("nuxt-link",{staticClass:"prev",attrs:{to:"/post/"+t.post.prev.pathname,title:t.post.prev.title}},[t._v("« "+t._s(t.post.prev.title))]):t._e(),t.post.next.title?a("nuxt-link",{staticClass:"next",attrs:{to:"/post/"+t.post.next.pathname,title:t.post.next.title}},[t._v(t._s(t.post.next.title)+" »")]):t._e()],1):t._e(),a("gitalk",{attrs:{tags:t.tags}})],1)};e._withStripped=!0;var r={render:e,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("需要注意的是，这个 XML 文档必须放在当前域名下的 server 上。关于 OpenSearch XML 文档的各个地址配置，请参考 "),s("a",{attrs:{href:"http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_description_document",target:"_blank"}},[this._v("OpenSearch 规范")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("此外，根据 "),s("a",{attrs:{href:"http://dev.chromium.org/tab-to-search",target:"_blank"}},[this._v("Chromium 的文档")]),this._v("描述，还有一种方式可以实现 “Tab to search”，即当网站中存在一个用户提交的表单时，Chrome 会自动将该网站添加到可搜索站点列表中。该表单必须满足以下几点条件：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("最后需要注意一点，无论是哪种方式，"),s("strong",[this._v("在地址栏中选择的网址不能带有路径")]),this._v("，这时候才能完成 “Tab to search” 的任务。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"http://dev.chromium.org/tab-to-search",target:"_blank"}},[this._v("chromium.org - Tab to Search")])]),s("li",[s("a",{attrs:{href:"http://www.wikiwand.com/en/OpenSearch",target:"_blank"}},[this._v("wikiwand.com - OpenSearch")])]),s("li",[s("a",{attrs:{href:"http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_description_document",target:"_blank"}},[this._v("opensearch.org - OpenSearch Description")])]),s("li",[s("a",{attrs:{href:"https://www.zhihu.com/question/28018277",target:"_blank"}},[this._v("知乎问答 - Chrome 是如何判断一个网站是搜索引擎的?")])])])}]};s.a=r},dXWv:function(t,s,a){"use strict";var e={title:"Chrome 中的 “Tab to Search” 与 Open Search",description:"Chrome 中的 “Tab to Search” 与 Open Search",keywords:"原创,技巧",pathname:"opensearch",translation:null,create_time:"2017-05-08",prev:{title:"[译] GraphQL 的庐山真面目",pathname:"so-whats-this-graphql-thing-i-keep-hearing-about"},next:{title:"[译] 浏览器中的 ES6 module 实现",pathname:"es-modules-in-browsers"}};s.a={head:function(){return{title:e.title,meta:[{name:"keywords",content:e.keywords||""},{name:"description",content:e.description}]}},data:function(){return{post:e,post_url:this.$config.site_url+"/post/"+e.pathname,tags:e.tags}},mounted:function(){this.$fixCode()}}}});
webpackJsonp([42],{"8Fnx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("PspK"),i=a("CPV7"),r=a("VU/8")(s.a,i.a,!1,null,null,null);r.options.__file="pages/post/npm-vs-yarn-cheat-sheet.vue",e.default=r.exports},CPV7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-post"}},[a("article",{staticClass:"post detail"},[a("div",{staticClass:"meta"},[a("div",{staticClass:"date"},[t._v(t._s(t.post.create_time))])]),a("h1",{staticClass:"title"},[t._v(t._s(t.post.title))]),a("div",{staticClass:"entry-content"},[t.post.translation?a("blockquote",[a("p",{staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n        原文作者: "),a("a",{attrs:{href:t.post.translation.social,target:"_blank"}},[t._v(t._s(t.post.translation.author))]),a("br"),t._v("\n        原文地址: "),a("a",{attrs:{href:t.post.translation.from}},[t._v(t._s(t.post.translation.from))]),a("br"),t._v("\n        译文地址: "),a("a",{attrs:{href:t.post_url}},[t._v(t._s(t.post_url))]),a("br"),t._v("\n        本文由 "),a("a",{attrs:{href:this.$config.site_url}},[t._v(t._s(this.$config.site_owner))]),t._v(" 翻译，转载请保留此声明。"),a("br"),t._v("\n        著作权属于原作者，本译文仅用于学习、研究和交流目的，请勿用于商业目的。\n        ")])]):t._e(),a("p",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://p.ssl.qhimg.com/t0149afb99874e3c348.png",expression:"`https://p.ssl.qhimg.com/t0149afb99874e3c348.png`"}],attrs:{alt:""}})]),a("p",[t._v("好，想必你对新的 JavaScript 包管理工具 "),a("a",{attrs:{href:"https://github.com/yarnpkg/yarn",target:"_blank"}},[t._v("yarn")]),t._v(" 已经有所耳闻，并已通过 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm i -g yarn")]),t._v(" 进行了安装，现在想知道怎么样使用吗？如果你了解 npm，你已经会很大一部分啦！")]),a("p",[t._v("下面是我从 npm 切换到 yarn 的一些笔记。")]),t._m(0),a("h2",{attrs:{id:"-"}},[t._v("需要了解的命令")]),a("ul",[a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm install")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn")]),t._v(" —— install 安装是默认行为。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm install taco --save")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn add taco")]),t._v(" —— taco 包立即被保存到 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("package.json")]),t._v(" 中。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm uninstall taco --save")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn remove taco")])]),a("p",[t._v(" 在 npm 中，可以使用 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm config set save true")]),t._v(" 设置 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("—-save")]),t._v(" 为默认行为，但这对多数开发者而言并非显而易见的。在 yarn 中，在"),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("package.json")]),t._v(" 中添加（add）和移除（remove）等行为是默认的。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm install taco --save-dev")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn add taco --dev")])])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm update --save")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn upgrade")])]),a("p",[t._v(" update（更新） vs upgrade（升级）， 赞！upgrade 才是实际做的事！版本号提升时，发生的正是upgrade！")]),a("p",[t._m(1),t._v("： "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm update --save")]),a("a",{attrs:{href:"https://github.com/npm/npm/issues/13555",target:"_blank"}},[t._v("在版本 3.11 中似乎有点问题")]),t._v("。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm install taco@latest --save")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn add taco")])])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm install taco --global")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn global add taco")]),t._v(" —— 一如既往，请谨慎使用 global 标记。")])])]),a("h2",{attrs:{id:"-"}},[t._v("已知悉的命令")]),a("p",[t._v("包和 npm registry 上是一样的。大致而言，Yarn 只是一个新的安装工具，npm 结构和 registry 还是一样的。")]),a("ul",[a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm init")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn init")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm link")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn link")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm outdated")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn outdated")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm publish")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn publish")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm run")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn run")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm cache clean")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn cache clean")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm login")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn login")]),t._v(" (logout 同理)")]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm test")]),t._v(" === "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn test")])])]),a("h2",{attrs:{id:"yarn-"}},[t._v("Yarn 独有的命令")]),t._m(2),a("ul",[a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn licenses ls")]),t._v("  —— 允许你检查依赖的许可信息。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn licenses generate")]),t._v(" —— 自动创建依赖免责声明 license。")])]),a("li",[a("p",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("yarn why taco")]),t._v(" —— 检查为什么会安装 taco，详细列出依赖它的其他包（鸣谢 "),a("a",{attrs:{href:"https://medium.com/u/5ae4b2205cba",target:"_blank"}},[t._v("Olivier Combe")]),t._v("）。")])]),t._m(3),t._m(4),t._m(5),t._m(6)]),a("h2",{attrs:{id:"npm-"}},[t._v("Npm 独有的命令")]),a("ul",[a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm xmas")]),t._v(" === "),a("strong",[t._v("NO EQUIVALENT")])]),a("li",[a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("npm visnup")]),t._v(" === "),a("strong",[t._v("NO EQUIVALENT")])])]),a("p",[t._v("笔者写作本文时， yarn 的 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("run")]),t._v(" 命令似乎出了点问题，应该会在 "),a("textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"codespan",attrs:{width:"0",height:"0"}},[t._v("0.15.2")]),t._v(" 中修复。在这一点上， npm 好多了。感谢 "),a("a",{attrs:{href:"https://medium.com/u/5563771fbaad",target:"_blank"}},[t._v("Zachary")]),t._v(" 的研究！")]),a("h2",{attrs:{id:"-"}},[t._v("还有更多呢!")]),a("h3",{attrs:{id:"-"}},[t._v("值得一看")]),t._m(7),a("h3",{attrs:{id:"-"}},[t._v("进阶阅读")]),t._m(8)])]),t.post.prev.title||t.post.next.title?a("nav",{staticClass:"pagination"},[t.post.prev.title?a("nuxt-link",{staticClass:"prev",attrs:{to:"/post/"+t.post.prev.pathname,title:t.post.prev.title}},[t._v("« "+t._s(t.post.prev.title))]):t._e(),t.post.next.title?a("nuxt-link",{staticClass:"next",attrs:{to:"/post/"+t.post.next.pathname,title:t.post.next.title}},[t._v(t._s(t.post.next.title)+" »")]):t._e()],1):t._e(),a("gitalk",{attrs:{tags:t.tags}})],1)};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("请收藏本文，本文会随着 yarn 的升级而更新。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"https://github.com/npm/npm/issues/13555",target:"_blank"}},[e("strong",[this._v("注意")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("我跳过了一些提醒我们不要使用的内容，如  "),e("a",{attrs:{href:"https://yarnpkg.com/en/docs/cli/clean",target:"_blank"}},[this._v("yarn clean")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Emojis")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[e("a",{attrs:{href:"https://yarnpkg.com/en/compare",target:"_blank"}},[this._v("速度")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("通过 yarn lockfile 自动实现 shrinkwrap 功能")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("以安全为中心的设计")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("p",[a("strong",[t._v("Yehuda Katz using Yarn")]),t._v(" — "),a("a",{attrs:{href:"http://yehudakatz.com/2016/10/11/im-excited-to-work-on-yarn-the-new-js-package-manager-2/",target:"_blank"}},[t._v("http://yehudakatz.com/2016/10/11/im-excited-to-work-on-yarn-the-new-js-package-manager-2/")])])]),a("li",[a("p",[a("strong",[t._v("Facebook Announce")]),t._v(" — "),a("a",{attrs:{href:"https://code.facebook.com/posts/1840075619545360",target:"_blank"}},[t._v("https://code.facebook.com/posts/1840075619545360")])])]),a("li",[a("p",[a("strong",[t._v("News")]),t._v(" — "),a("a",{attrs:{href:"http://thenextweb.com/dd/2016/10/12/facebook-launches-yarn-a-faster-npm-client/",target:"_blank"}},[t._v("http://thenextweb.com/dd/2016/10/12/facebook-launches-yarn-a-faster-npm-client/")])])]),a("li",[a("p",[a("strong",[t._v("Benchmarking")]),t._v(" — "),a("a",{attrs:{href:"https://www.berriart.com/blog/2016/10/npm-yarn-benchmark/",target:"_blank"}},[t._v("https://www.berriart.com/blog/2016/10/npm-yarn-benchmark/")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://yarnpkg.com/en/docs/",target:"_blank"}},[this._v("https://yarnpkg.com/en/docs/")])])]),e("li",[e("p",[e("a",{attrs:{href:"https://twitter.com/yarnpkg",target:"_blank"}},[this._v("https://twitter.com/yarnpkg")])])]),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/yarnpkg/yarn",target:"_blank"}},[this._v("https://github.com/yarnpkg/yarn")])])]),e("li",[e("p",[e("a",{attrs:{href:"https://yarnpkg.com/en/docs/migrating-from-npm#toc-cli-commands-comparison",target:"_blank"}},[this._v("https://yarnpkg.com/en/docs/migrating-from-npm")])])])])}]};e.a=i},PspK:function(t,e,a){"use strict";var s={title:"[译] yarn 和 npm 命令行小抄",description:"yarn 和 npm 命令行小抄",keywords:"翻译,NPM,Node.js",pathname:"npm-vs-yarn-cheat-sheet",translation:{author:"@Gant Laborde",social:"https://shift.infinite.red/@gantlaborde",from:"https://shift.infinite.red/npm-vs-yarn-cheat-sheet-8755b092e5cc#.6tkj2w3rn"},create_time:"2016-10-19",prev:{title:"JavaScript Weekly 306 阅读笔记",pathname:"javascript-weekly-306-notes"},next:{title:"[译] 函数式 TypeScript",pathname:"functional-refactor-typescript"}};e.a={head:function(){return{title:s.title,meta:[{name:"keywords",content:s.keywords||""},{name:"description",content:s.description}]}},data:function(){return{post:s,post_url:this.$config.site_url+"/post/"+s.pathname,tags:s.tags}},mounted:function(){this.$fixCode()}}}});